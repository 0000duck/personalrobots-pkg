<launch>
  <!-- launch a set of trajectory controllers -->
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_gazebo)/controllers/pr2_joint_trajectory_controllers.xml" output="screen"/>

  <!-- launch base trajectory controller -->
  <param name="base_trajectory_controller/controller_frequency" value="20.0" type="double" />
  <node pkg="pr2_mechanism_controllers" type="base_trajectory_controller"/>

  <!-- base odom controller -->
  <param name="base_controller/odom_publish_rate" value="10" />
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_default_controllers)/base_controller.xml" output="screen"/>

  <!-- tilting laser controller -->
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_default_controllers)/laser_tilt_controller.xml" />
  <node pkg="pr2_mechanism_controllers" type="control_laser.py" args="laser_tilt_controller sine 2 .45 .40" />

</launch>

