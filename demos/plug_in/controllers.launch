<launch>
  <!-- Parameters for the controllers used in plugging in -->

  <group ns="arm_constraint" clear_params="true">
    <param name="line_pid/p" value="750.0" type="double" />
    <param name="line_pid/i" value="1.0" type="double" />
    <param name="line_pid/d" value="5.0" type="double" />
    <param name="line_pid/i_clamp" value="10.0" type="double" />

    <param name="pose_pid/p" value="35.0" type="double" />
    <param name="pose_pid/i" value="8.0" type="double" />
    <param name="pose_pid/d" value="1.0" type="double" />
    <param name="pose_pid/i_clamp" value="10.0" type="double" />
    <param name="f_r_max" value="150.0" type="double"/>
  </group>
  <!--<node pkg="mechanism_control" type="spawner.py" args="$(find plug_in)/controllers.xml" />-->

  <group ns="arm_pose" clear_params="true">
    <param name="p" value="15.0" />
    <param name="i" value="0.2" />
    <param name="d" value="0.0" />
    <param name="i_clamp" value="0.5" />
    <param name="root_name" value="torso_lift_link" />
    <param name="tip_name" value="r_gripper_tool_frame" />
    <param name="twist/fb_trans/p" value="15.0" />
    <param name="twist/fb_trans/i" value="0.5" />
    <param name="twist/fb_trans/d" value="0.0" />
    <param name="twist/fb_trans/i_clamp" value="1.0" />
    <param name="twist/fb_rot/p" value="1.0" />
    <param name="twist/fb_rot/i" value="0.1" />
    <param name="twist/fb_rot/d" value="0.0" />
    <param name="twist/fb_rot/i_clamp" value="0.2" />
  </group>

  <group ns="arm_hybrid" clear_params="true">
    <param name="type" value="CartesianHybridControllerNode" />
    <param name="root_link" value="torso_lift_link" />
    <param name="tip_link" value="r_gripper_tool_frame" />
    <param name="initial_mode" value="3" />
    <group ns="pose">
      <rosparam file="$(find pr2_default_controllers)/gains/arm_pose.yaml" command="load" />
    </group>
    <group ns="twist">
      <rosparam file="$(find pr2_default_controllers)/gains/arm_twist.yaml" command="load" />
    </group>
    <param name="twist_filter" command="./make_lowpass.m twist_filter 0.1" />
  </group>

</launch>
