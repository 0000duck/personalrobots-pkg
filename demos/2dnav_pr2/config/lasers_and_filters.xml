<launch>
<node pkg="mechanism_control" type="spawner.py" args="$(find pr2_experimental_controllers)/laser_tilt/laser_tilt_controller.xml" />
<node pkg="pr2_mechanism_controllers" type="send_periodic_cmd_srv.py" args="laser_tilt_controller linear 2 .65 .25" />

<!-- Filter for tilt laser shadowing/veiling -->
<node pkg="laser_scan" type="scan_shadows_filter_node" respawn="true" machine="three" name="tilt_shadow_filter">
  <param name="scan_topic" value="tilt_scan" />
  <param name="cloud_topic" value="tilt_scan_filtered" />
</node>

<!-- Filter for base laser shadowing/veiling -->
<node pkg="laser_scan" type="scan_shadows_filter_node" respawn="true" machine="three" name="base_shadow_filter_non_preserve" >
  <param name="scan_topic" value="base_scan" />
  <param name="cloud_topic" value="base_scan_marking" />
  <param name="laser_max_range" value="30.0" />
</node>

<!-- for clearing we want preservative -->
<node pkg="laser_scan" type="scan_shadows_filter_node" respawn="true" machine="three" name="base_shadow_filter_preserve" >
  <param name="scan_topic" value="base_scan" />
  <param name="cloud_topic" value="base_scan_clearing" />
  <param name="preservative" value="true" />
  <param name="laser_max_range" value="30.0" />
</node>

</launch>
