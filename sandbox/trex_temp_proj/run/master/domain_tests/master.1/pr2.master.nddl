/**
 * Drive to a charging station using the nav stack and then plug in. We use outlet id 1
 */

#include "master/master.nddl"
#include "run/locations.nddl"

close();

map_initialize_from_file("willow.tmap");

rejectable(driver.Active g0);
map_get_outlet_approach_pose(g0.x, g0.y, g0.z, g0.qx, g0.qy, g0.qz, g0.qw, outlet_in_melonees_office);
g0.frame_id = "map";

rejectable(recharger.Active g1);
g1.outlet_id = outlet_in_melonees_office;

rejectable(driver.Active g2);
map_get_outlet_approach_pose(g2.x, g2.y, g2.z, g2.qx, g2.qy, g2.qz, g2.qw, outlet_2_in_conference_room);
g2.frame_id = "map";

rejectable(recharger.Active g3);
g3.outlet_id = outlet_in_stus_office;

rejectable(driver.Active g4);
map_get_outlet_approach_pose(g4.x, g4.y, g4.z, g4.qx, g4.qy, g4.qz, g4.qw, outlet_in_green_room);
g4.frame_id = "map";

rejectable(recharger.Active g5);
g5.outlet_id = outlet_in_green_room;

rejectable(driver.Active g6);
map_get_outlet_approach_pose(g6.x, g6.y, g6.z, g6.qx, g6.qy, g6.qz, g6.qw, outlet_in_meeting_room);
g6.frame_id = "map";

rejectable(recharger.Active g7);
g7.outlet_id = outlet_in_meeting_room;


g0 before g1;
g1 before g2;
g2 before g3;
g3 before g4;
g4 before g5;
g5 before g6;
g6 before g7;
