<!-- This is a TREX configuration file running a thin client for door actions. The executive will basically be using simple
     scripted actions. The configuration routes RCS components over ROS -->
<Agent name="pr2" finalTick="forever">

	<!-- Doorman handles detection, tracking, manipulation and navigation for doorway traversal -->
 	<TeleoReactor name="doorman" component="DeliberativeReactor" lookAhead="10" latency="0" solverConfig="doorman.solver.cfg"/>

 	<TeleoReactor name="state_estimator" component="DeliberativeReactor" lookAhead="1" latency="0" solverConfig="standard.solver.cfg"/>

 	<TeleoReactor name="mechanism_control" component="DeliberativeReactor" lookAhead="1" latency="0" solverConfig="standard.solver.cfg"/>

	<!-- Adapters for playback -->
 	<TeleoReactor name="playback" component="SimAdapter" lookAhead="1" latency="0" >
 		      <Timeline name="switch_controllers"/>
 		      <Timeline name="plugs_untuck_arms"/>
 		      <Timeline name="move_and_grasp_plug"/>
 		      <Timeline name="localize_plug_in_gripper"/>
 		      <Timeline name="plug_in"/>
 		      <Timeline name="unplug"/>
 		      <Timeline name="stow_plug"/>
 		      <Timeline name="detect_outlet_fine"/>
 		      <Timeline name="detect_outlet_coarse"/>
 		      <Timeline name="set_laser_tilt"/>
 		      <Timeline name="base_state_adapter"/>
 		      <Timeline name="safety_tuck_arms"/>
 		      <Timeline name="doors_tuck_arms"/> 
 		      <Timeline name="detect_plug_on_base"/> 
 		      <Timeline name="notify_door_blocked"/>
 		      <Timeline name="check_path"/> 
 		      <Timeline name="detect_door"/>
 		      <Timeline name="detect_handle"/>
 		      <Timeline name="grasp_handle"/> 
 		      <Timeline name="unlatch_handle"/>
 		      <Timeline name="open_door"/> 
 		      <Timeline name="open_door_without_grasp"/>
 		      <Timeline name="release_handle" />
 		      <Timeline name="move_base_local" />
 		      <Timeline name="move_base_door" />
 		      <Timeline name="stop_action" />
 		      <Timeline name="touch_door" />
 		      <Timeline name="push_door" />
 		      <Timeline name="move_base" />
 		      <Timeline name="base_state" />
	</TeleoReactor>
</Agent>
