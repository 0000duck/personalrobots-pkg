<!-- This is a TREX configuration file running a thin client for door actions. The executive will basically be using simple
     scripted actions. The configuration routes RCS components over ROS -->
<Agent name="pr2" finalTick="forever">

	<!-- Recharger handles control for plugging and unplugging -->
 	<TeleoReactor name="recharger" component="DeliberativeReactor" lookAhead="1" latency="1" solverConfig="standard.solver.cfg"/>

 	<TeleoReactor name="safety" component="DeliberativeReactor" lookAhead="1" latency="1" solverConfig="standard.solver.cfg"/>

 	<TeleoReactor name="mechanism_control" component="DeliberativeReactor" lookAhead="1" latency="1" solverConfig="standard.solver.cfg"/>

	<!-- Adapters for ros action integration -->
 	<TeleoReactor name="switch_controllers" component="SwitchControllersAdapter" timelineName="switch_controllers" timelineType="SwitchControllers"/>
 	<TeleoReactor name="safety_tuck_arms" component="NoArgumentsActionAdapter" timelineName="safety_tuck_arms" timelineType="SafetyTuckArms"/>
 	<TeleoReactor name="detect_plug_on_base" component="DetectPlugOnBaseAdapter" timelineName="detect_plug_on_base" timelineType="DetectPlugOnBase"/>
 	<TeleoReactor name="plugs_untuck_arms" component="NoArgumentsActionAdapter" timelineName="plugs_untuck_arms" timelineType="PlugsUntuckArms"/>
 	<TeleoReactor name="move_and_grasp_plug" component="MoveAndGraspPlugAdapter" timelineName="move_and_grasp_plug" timelineType="MoveAndGraspPlug"/>
 	<TeleoReactor name="localize_plug_in_gripper" component="LocalizePlugInGripperAdapter" timelineName="localize_plug_in_gripper" timelineType="LocalizePlugInGripper"/>
 	<TeleoReactor name="servo_to_outlet" component="ServoToOutletAdapter" timelineName="servo_to_outlet" timelineType="ServoToOutlet"/>
 	<TeleoReactor name="insert_plug" component="NoArgumentsActionAdapter" timelineName="insert_plug" timelineType="InsertPlug"/>
 	<TeleoReactor name="push_plug_in" component="NoArgumentsActionAdapter" timelineName="push_plug_in" timelineType="PushPlugIn"/>
 	<TeleoReactor name="unplug" component="NoArgumentsActionAdapter" timelineName="unplug" timelineType="Unplug"/>
 	<TeleoReactor name="stow_plug" component="StowPlugAdapter" timelineName="stow_plug" timelineType="StowPlug"/>
 	<TeleoReactor name="move_base" component="MoveBaseAdapter" timelineName="move_base" timelineType="MoveBase"/>
 	<TeleoReactor name="detect_outlet_fine" component="DetectOutletAdapter" timelineName="detect_outlet_fine" timelineType="DetectOutletFine"/>
 	<TeleoReactor name="detect_outlet_coarse" component="DetectOutletAdapter" timelineName="detect_outlet_coarse" timelineType="DetectOutletCoarse"/>

	<!-- Adapters for state variables of interest -->
 	<TeleoReactor name="base_state_adapter" component="NewBaseStateAdapter" timelineName="base_state" timelineType="BaseState" stateTopic="localizedpose"/>
</Agent>
