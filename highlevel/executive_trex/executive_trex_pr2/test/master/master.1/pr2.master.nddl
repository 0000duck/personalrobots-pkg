/**
 * Drive to a charging station using the nav stack and then plug in. We use outlet id 1
 */

#include "master/master.nddl"
#include "test/locations.nddl"

close();

map_initialize_from_file("willow.tmap");

rejectable(driver.Active g0);
map_get_outlet_approach_pose(g0.x, g0.y, g0.z, g0.qx, g0.qy, g0.qz, g0.qw, 4);
g0.frame_id = "map";

rejectable(recharger.Active g1);
g1.outlet_id = 4;

rejectable(driver.Active g2);
map_get_outlet_approach_pose(g2.x, g2.y, g2.z, g2.qx, g2.qy, g2.qz, g2.qw, 34);
g2.frame_id = "map";

rejectable(recharger.Active g3);
g3.outlet_id = 34;

rejectable(driver.Active g4);
map_get_outlet_approach_pose(g4.x, g4.y, g4.z, g4.qx, g4.qy, g4.qz, g4.qw, 1);
g4.frame_id = "map";

rejectable(recharger.Active g5);
g5.outlet_id = 1;

g0 before g1;
g1 before g2;
g2 before g3;
g3 before g4;
g4 before g5;
