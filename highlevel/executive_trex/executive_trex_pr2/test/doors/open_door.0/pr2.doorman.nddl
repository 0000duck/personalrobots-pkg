#include "doors/door_controller.nddl"

close();

rejectable(door_controller.Holds g0);

// Initial conditions for control flags
g0.active = true;
g0.in_position = false;
g0.found_door = false;
g0.must_find_handle = true;
g0.have_handle = false;
g0.doorway_clear = false;
g0.check_doorway = true;
g0.finishing = false;

// Initialize the controller with a door message.
fact(door_state.Holds ds);
ds.frame_id = "base_footprint";
ds.frame_p1_x =  1.0;
ds.frame_p1_y = -0.5;
ds.frame_p1_z =  1.0;
ds.frame_p2_x =  1.0;
ds.frame_p2_y =  0.5;
ds.frame_p2_z =  1.0;
ds.door_p1_x =  1.5;
ds.door_p1_y = -0.5;
ds.door_p1_z =  1.0;
ds.door_p2_x =  1.5;
ds.door_p2_y =  0.5;
ds.door_p2_z =  1.0;
ds.handle_x =  1.5;
ds.handle_y =  0.5;
ds.handle_z =  1.0;
ds.normal_x =  1.0;
ds.normal_y =  0.0;
ds.normal_z =  0.0;
ds.height =  2.5;
ds.hinge =  FRAME_P2;
ds.rot_dir =  ROT_DIR_COUNTERCLOCKWISE;
ds.latch_state = UNKNOWN;
