<!-- 
     This solver is used by the pr2 master reactor. Its main specialization is to
     integrate the topological map into search - picking target connectors absed on shortest path
     estimates
--->
<Solver composite="true">
	<Solver name="master" component="EuropaSolverAdapter">	
	  	<FlawFilter component="DeliberationFilter"/>
	  	<FlawFilter class-match="BaseState"/>

  		<ThreatManager defaultPriority="10">
    			<FlawHandler component="StandardThreatHandler"/>
  		</ThreatManager>

  		<OpenConditionManager  defaultPriority="100" component="GreedyOpenConditionManager">
    			<FlawHandler component="StandardOpenConditionHandler"/>
    			<FlawHandler component="TestConditionHandler" priority="10000"/>
  		</OpenConditionManager>

		<!--- Will bind target connectors. --->
  		<UnboundVariableManager defaultPriority="1000">
			<!-- Include only variables that have the expected pattern and are bound -->
    			<FlawFilter component="MapConnectorFilter" 
				    source_x="x" source_y="y"
				    final_x="final_x" final_y="final_y"
				    target_connector="target_connector"/>

    			<FlawHandler component="MapConnectorSelector"
				    source_x="x" source_y="y"
				    final_x="final_x" final_y="final_y"
				    target_connector="target_connector"/>

  		</UnboundVariableManager>
	</Solver>
</Solver>