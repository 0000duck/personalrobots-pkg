#include "nav.init.nddl"

/**
 * Tests if the aborted flag is set when the goal is in an obstacle. There are 2 cases. The first gives the goal in an obstacle that is visible at the
 * time of initial planning. This produces a timeout with no path or motion ever produced. The second will be in an obstacle that is only detected when
 * robot approaches the goal position and perceives the dynamic obstacle. Initial plan and motion will occur. Both cases force an abort.
 */
rejectable(moveBase.Active g0);
g0.x = 13.0;
g0.y = 25.0;
g0.th= 0.5;
g0.timeout = 3;

rejectable(moveBase.Inactive c0);
g0 meets c0;
eq(c0.aborted, true);
assertCompleted(c0.state);

rejectable(moveBase.Active g1);
g1.x = 13.0;
g1.y = 22.0;
g1.th= 0.5;
g1.timeout = 1;

rejectable(moveBase.Inactive c1);
g1 meets c1;
eq(c1.aborted, true);
assertCompleted(c1.state);




