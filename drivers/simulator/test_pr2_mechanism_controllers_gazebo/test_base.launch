<launch>
  <!-- load empty world -->
  <include file="$(find gazebo)/launch/empty_world.launch"/>

  <!-- Bring up the node we want to test. -->
  <include file="$(find pr2_gazebo)/pr2.launch"/>

  <!-- load controllers -->
  <param name="base_controller/odom_publish_rate" value="10" />
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_default_controllers)/base_controller.xml" output="screen"/>
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_default_controllers)/gazebo_head_torso_lift_controller.xml" output="screen"/>
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_experimental_controllers)/laser_tilt/laser_tilt_controller.xml" />
  <node pkg="pr2_mechanism_controllers" type="send_laser_traj_cmd_ms2.py" args="laser_tilt_controller" />

  <test test-name="test_pr2_mechanism_gazebo_test_base_vw1"      pkg="test_pr2_mechanism_controllers_gazebo" type="test_base_vw_gt.py" />
  <test test-name="test_pr2_mechanism_gazebo_test_base_odomxyw1" pkg="test_pr2_mechanism_controllers_gazebo" type="test_base_odomxyw_gt.py" />
  <test test-name="test_pr2_mechanism_gazebo_test_base_odomxy1"  pkg="test_pr2_mechanism_controllers_gazebo" type="test_base_odomxy_gt.py" />
  <test test-name="test_pr2_mechanism_gazebo_test_base_odomw1"   pkg="test_pr2_mechanism_controllers_gazebo" type="test_base_odomw_gt.py" />
  <test test-name="test_pr2_mechanism_gazebo_test_base_odomx1"   pkg="test_pr2_mechanism_controllers_gazebo" type="test_base_odomx_gt.py" />
  <test test-name="test_pr2_mechanism_gazebo_test_base_odomy1"   pkg="test_pr2_mechanism_controllers_gazebo" type="test_base_odomy_gt.py" />
</launch>
