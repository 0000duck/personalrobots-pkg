<launch>
  <param name="robotdesc/pr2"
         command="$(find xacro)/xacro.py '$(find pr2_defs)/robots/laser_tilt.xml'" />
  <node pkg="mechanism_bringup" type="calibrate.py"
        args="$(find pr2_default_controllers)/calibration_controllers/laser_tilt_calibration_controller.xml"
        output="screen" />
  <node pkg="robot_state_publisher" type="state_publisher" name="robot_state_publisher">
    <param name="publish_frequency" type="double" value="50.0" />
    <param name="tf_prefix" type="string" value="" />
  </node>
  <node pkg="pr2_etherCAT" type="pr2_etherCAT" args="-i eth0 -x /robotdesc/pr2"
        output="screen"/>
  <node pkg="mechanism_control" type="spawner.py" args="$(find pr2_default_controllers)/laser_tilt_controller.xml" />
  <node pkg="pr2_mechanism_controllers" type="control_laser.py" args="laser_tilt_controller sine 10 .75 .25" />
  <node pkg="hokuyo_node" type="hokuyo_node" name="tile_hokuyo_node">
    <remap from="scan" to="tilt_scan"/>
    <param name="port" type="string" value="/dev/ttyACM0"/>
    <param name="frameid" type="string" value="laser_tilt_link"/>
    <param name="min_ang_degrees" type="double" value="-80.0"/>
    <param name="max_ang_degrees" type="double" value="80.0"/>
    <param name="skip" type="int" value="1"/>
  </node>
</launch>
